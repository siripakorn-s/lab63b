# การทดลองที่ 7 เรื่อง การเขียนโปรแกรมตรวจจับความร้อนเพื่อควบคุมการเปิดปิดไฟ LED เพื่อให้ความอบอุ่นแก่เล้าไก่
## วัตถุประสงค์
1. เพื่อเรียนรู้การเขียนโปรแกรม​ลงไมโครคอนโทรล​เลอร์
2. เพื่อประยุกต์ใช้งานการเขียนโปรแกรมให้สามารถใช้ได้ในชีวิตจริง
## อุปกรณ์ที่ใช้
1. Arduino UNO R3
2. หลอดไฟ LED ให้ความอบอุ่น
3. บอร์ดทดลอง Breadboard 830 Point
4. Resistor 330 Ohm 
5. สายไฟจัมเปอร์ ผู้-ผู้ 
6. สายไฟจัมเปอร์ ผู้-เมีย 
7. เซนเซอร์ตรวจจับความร้อน
## ศึกษาข้อมูลเบื้องต้น
1. [เซนเซอร์ตรวจจับความร้อน](https://www.myarduino.net/product/28/pir-%E0%B9%80%E0%B8%8B%E0%B9%87%E0%B8%99%E0%B9%80%E0%B8%8B%E0%B8%AD%E0%B8%A3%E0%B9%8C%E0%B8%95%E0%B8%A3%E0%B8%A7%E0%B8%88%E0%B8%88%E0%B8%B1%E0%B8%9A%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B9%80%E0%B8%84%E0%B8%A5%E0%B8%B7%E0%B9%88%E0%B8%AD%E0%B8%99%E0%B9%84%E0%B8%AB%E0%B8%A7-motion-sensor-detector-module-hc-sr501-2)
2. [code run 07](https://www.myarduino.net/article/106/%E0%B8%AA%E0%B8%AD%E0%B8%99%E0%B9%83%E0%B8%8A%E0%B9%89%E0%B8%87%E0%B8%B2%E0%B8%99-arduino-pir-sensor-hc-sr501-%E0%B8%95%E0%B8%A3%E0%B8%A7%E0%B8%88%E0%B8%88%E0%B8%B1%E0%B8%9A%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B8%A3%E0%B9%89%E0%B8%AD%E0%B8%99%E0%B8%AA%E0%B8%B4%E0%B9%88%E0%B8%87%E0%B8%A1%E0%B8%B5%E0%B8%8A%E0%B8%B5%E0%B8%A7%E0%B8%B4%E0%B8%95-%E0%B8%84%E0%B8%A7%E0%B8%9A%E0%B8%84%E0%B8%B8%E0%B8%A1-%E0%B9%80%E0%B8%9B%E0%B8%B4%E0%B8%94%E0%B8%9B%E0%B8%B4%E0%B8%94%E0%B9%84%E0%B8%9F-led)
## วิธีการทำการทดลอง
![image](https://user-images.githubusercontent.com/80880047/113169653-030b5980-9270-11eb-9ec1-1ed89e575469.png)
1. ทำการต่อสาย USB เข้ากับตัว USB to Serial port
2. ต่อ Arduino Uno R3 เข้ากับ Serial Port
3. นำขา 2 ของ Arduino uno r3 ต่อเข้ากับหลอดไฟ LED
4. นำเซ็นเซอร์ตรวจจับความร้อนต่อเข้ากับขา 8 ของ Arduino uno r3
5. อัปโหลดโปรแกรมตัวอย่างเข้าไปยัง Arduino uno r3 จะแสดงตัวอย่างโปรแกรมดังนี้
``` int ledPin = 2;
int digitalPin = 8;
int val = 0;
void setup() {
  pinMode(ledPin, OUTPUT);  // sets the pin as output
  pinMode(digitalPin, INPUT); // sets the pin as input
  Serial.begin(9600);
}

void loop() {
  val = digitalRead(digitalPin);  
  Serial.print("val = "); 
  Serial.println(val); 
  if (val == 0) { 
    digitalWrite(ledPin, HIGH); 
  }
  else {
    digitalWrite(ledPin, LOW); 
  }
  delay(100);
}
``` 
6. อัปโหลดโปรแกรมในไมโครคอนโทรลเลอร์ 
7. เปิด Serial Monitor ขึ้นมาเพื่อดูค่าที่เซนเซอร์ส่งให้ Arduino 
8. สังเกตการเปลี่ยนแปลงของหลอด LED
## การบันทึกผลการทดลอง
จากการทดลองถ้าหากมีสิ่งมีชีวิตที่มีความร้อนเข้าใกล้เซนเซอร์จับความร้อน อินพุตที่ได้จะอ่านค่าเป็น 0 ซึ่งหมายความว่าตัว Arduino จะสั่งให้หลอดไฟ LED สว่างขึ้นมาเพื่อให้ความอบอุ่นแก่เล้าไก่ และถ้าหากไม่มีความร้อนบริเวณตัวเซนเซอร์ อินพุตที่ได้จะเป็น 1 นั่นก็คือหลอดไฟจะดับนั่นเอง
## อภิปรายผลการทดลอง
เมื่อเราทดลองรันโปรแกรมลงบนตัว Arduino แล้วสังเกตinput ที่ได้ สรุปได้ว่า เมื่อ input ออกมาเป็น 0 หลอดไฟจะติดและเมื่อ input ที่ได้เป็น 1 หลอดไฟจะดับ
## คำถามหลังการทดลอง
* Q: เซนเซอร์ตรวจจับความร้อนสามารถนำมาทำอะไรได้อีกบ้าง
* A: นิยมนำมาประยุกต์ ใช้ตรวจผู้บุกรุก ทำสัญญาณกันขโมย หรือ ตรวจจับคนและสิ่งมีชีวิต

